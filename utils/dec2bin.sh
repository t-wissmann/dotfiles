#!/bin/bash -e

prog="$0"
usage() {
cat <<XEOF
Usage: $prog OUTPUTFILE
Create a file called OUTPUT with the decimal value specified on stdin.

See also:
https://www.heise.de/newsticker/meldung/Zahlen-bitte-48565-29443-eine-illegale-Primzahl-3344576.html

Example: $prog out.txt <<EOF
2074016460653017903677472467534344521594245705226432338
0019754117818808482974732162012252629326423649674236718
3334923803493780445030817434301554074913261622116487670
9167301423560691501322234013075899343301633878712059792
7116031729625251765158469259482072223708694773580577126
2151080025781772556936203965287920958634864877789147913
3024335680359525895180300803788668225357732609996781121
6783769117570853042219964814266915997834152839924893721
8394014423147116519295781250982205218611880062324913442
4628063549345471923662791183960016090278575686470595524
5660850249956194329537907236082756719622073180525798609
7937698394667376997519245426195440154937918187546443141
0391589552490920704301764585945072712446588377165212076
5325831889938817129518384611038959355819691754810118845
8416712836056359208508103189005325145564817821336274582
8950176675747548461669392657233390752605789842712465330
3480058999830897772388690015145604161233845242288044962
5242367511823546452587597188277928923779422444413304131
5431003383825729204210277724614216568215235807791512957
EOF
XEOF
}

file="${1}"
if [[ -z "$file" ]] ; then
    echo "no output file specified" >&2
    usage >&2
    exit 1
fi

input=$(cat)
dec="${input//[^0-9]/}"

hex=$(bc <<< "ibase=10;obase=16;$dec" | sed 's,..,\\x&,g')
echo -en "$hex" > "$file"



